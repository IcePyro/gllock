// http://www.shadertoy.com/view/MtfXRN
#version 330 core

// ---- gllock required fields -----------------------------------------------------------------------------------------
#define RATE 1.0

uniform float time;
uniform float end;
uniform sampler2D imageData;
uniform vec2 screenSize;
// ---------------------------------------------------------------------------------------------------------------------


#define MIN_SIZE 0.0f
#define MAX_SIZE 1.0f

int arrSize = 900;

vec2 p[] = vec2[] (vec2(0.253, 0.0076), vec2(0.2387, 0.0574), vec2(0.2373, 0.0897), vec2(0.2396, 0.107), vec2(0.255, 0.1486), vec2(0.2537, 0.1854), vec2(0.2437, 0.2268), vec2(0.2573, 0.2387), vec2(0.2363, 0.2695), vec2(0.2438, 0.3159), vec2(0.2407, 0.3561), vec2(0.2441, 0.383), vec2(0.2445, 0.4174), vec2(0.2423, 0.4515), vec2(0.2497, 0.4928), vec2(0.2606, 0.5171), vec2(0.2407, 0.5514), vec2(0.2471, 0.5846), vec2(0.2602, 0.6097), vec2(0.2622, 0.6631), vec2(0.2586, 0.6885), vec2(0.2536, 0.713), vec2(0.2435, 0.747), vec2(0.2444, 0.7716), vec2(0.261, 0.8259), vec2(0.2569, 0.8465), vec2(0.2357, 0.8951), vec2(0.2648, 0.9046), vec2(0.2572, 0.9364), vec2(0.2618, 0.9963), vec2(0.9979, 0.0272), vec2(0.9667, 0.0369), vec2(0.9962, 0.0688), vec2(0.9786, 0.1105), vec2(0.9879, 0.1651), vec2(0.9786, 0.1914), vec2(0.9896, 0.2178), vec2(0.9903, 0.2391), vec2(0.9954, 0.2991), vec2(0.9788, 0.3198), vec2(0.9975, 0.3563), vec2(0.9791, 0.3938), vec2(0.9918, 0.4328), vec2(0.9758, 0.4581), vec2(0.9921, 0.4765), vec2(0.9771, 0.5119), vec2(0.9805, 0.5418), vec2(0.9965, 0.5886), vec2(0.9817, 0.6058), vec2(0.9787, 0.6548), vec2(0.9869, 0.6842), vec2(0.9976, 0.7094), vec2(0.9732, 0.7442), vec2(0.9957, 0.793), vec2(0.9951, 0.8143), vec2(0.9681, 0.8367), vec2(0.9779, 0.8697), vec2(0.9983, 0.9213), vec2(0.9863, 0.945), vec2(0.9777, 0.9669), vec2(0.8234, 0.0015), vec2(0.814, 0.0407), vec2(0.8089, 0.0865), vec2(0.8114, 0.1117), vec2(0.824, 0.1404), vec2(0.8268, 0.1945), vec2(0.8264, 0.2187), vec2(0.8097, 0.2563), vec2(0.8223, 0.273), vec2(0.8156, 0.327), vec2(0.8236, 0.3447), vec2(0.8173, 0.3882), vec2(0.8241, 0.4071), vec2(0.8213, 0.4358), vec2(0.8275, 0.488), vec2(0.8013, 0.5056), vec2(0.8301, 0.5373), vec2(0.8196, 0.599), vec2(0.8291, 0.6315), vec2(0.8121, 0.6358), vec2(0.8263, 0.686), vec2(0.8226, 0.7029), vec2(0.8121, 0.7483), vec2(0.812, 0.7938), vec2(0.8301, 0.8256), vec2(0.824, 0.8455), vec2(0.8131, 0.8942), vec2(0.8235, 0.9116), vec2(0.8266, 0.954), vec2(0.814, 0.9778), vec2(0.1508, 0.0031), vec2(0.1632, 0.0468), vec2(0.1338, 0.0978), vec2(0.1644, 0.1111), vec2(0.1394, 0.15), vec2(0.1402, 0.176), vec2(0.1605, 0.219), vec2(0.14, 0.2569), vec2(0.146, 0.2914), vec2(0.1525, 0.312), vec2(0.1512, 0.3619), vec2(0.1363, 0.3862), vec2(0.1641, 0.4143), vec2(0.1546, 0.441), vec2(0.1481, 0.4672), vec2(0.1465, 0.5094), vec2(0.1433, 0.549), vec2(0.1379, 0.5878), vec2(0.155, 0.611), vec2(0.1495, 0.6658), vec2(0.1622, 0.6849), vec2(0.1592, 0.7189), vec2(0.1606, 0.7638), vec2(0.1358, 0.776), vec2(0.1514, 0.8268), vec2(0.1495, 0.8531), vec2(0.1409, 0.8795), vec2(0.1661, 0.904), vec2(0.1544, 0.9611), vec2(0.1547, 0.9889), vec2(0.6871, 0.0159), vec2(0.669, 0.0637), vec2(0.6764, 0.0887), vec2(0.6998, 0.1222), vec2(0.6941, 0.1525), vec2(0.6716, 0.1952), vec2(0.6773, 0.2234), vec2(0.6914, 0.2414), vec2(0.6674, 0.2857), vec2(0.695, 0.3297), vec2(0.6738, 0.343), vec2(0.6988, 0.3838), vec2(0.6957, 0.4083), vec2(0.6685, 0.4499), vec2(0.676, 0.4955), vec2(0.6883, 0.5224), vec2(0.698, 0.565), vec2(0.6737, 0.5671), vec2(0.6707, 0.607), vec2(0.6986, 0.6467), vec2(0.6794, 0.6741), vec2(0.6911, 0.7245), vec2(0.6937, 0.747), vec2(0.6918, 0.7956), vec2(0.6672, 0.8049), vec2(0.6795, 0.8441), vec2(0.6874, 0.8975), vec2(0.6767, 0.9319), vec2(0.6939, 0.9373), vec2(0.6751, 0.9867), vec2(0.1706, 0.0062), vec2(0.1935, 0.0443), vec2(0.1712, 0.0757), vec2(0.1756, 0.1332), vec2(0.1825, 0.1635), vec2(0.1941, 0.1955), vec2(0.1775, 0.207), vec2(0.1814, 0.2495), vec2(0.184, 0.2995), vec2(0.1865, 0.3299), vec2(0.1679, 0.3486), vec2(0.1694, 0.3693), vec2(0.1793, 0.4263), vec2(0.1717, 0.45), vec2(0.1892, 0.4711), vec2(0.1672, 0.5014), vec2(0.1777, 0.5659), vec2(0.1705, 0.5905), vec2(0.1826, 0.6107), vec2(0.1728, 0.6465), vec2(0.1767, 0.6995), vec2(0.1838, 0.7153), vec2(0.1776, 0.7564), vec2(0.178, 0.7989), vec2(0.1747, 0.8305), vec2(0.1876, 0.8558), vec2(0.1978, 0.8925), vec2(0.1865, 0.9282), vec2(0.1755, 0.9518), vec2(0.183, 0.9883), vec2(0.8893, 0.0322), vec2(0.8768, 0.0495), vec2(0.89, 0.0818), vec2(0.8703, 0.1253), vec2(0.8702, 0.1507), vec2(0.872, 0.1723), vec2(0.89, 0.2106), vec2(0.8785, 0.2376), vec2(0.8673, 0.2921), vec2(0.8688, 0.3234), vec2(0.8985, 0.3494), vec2(0.8842, 0.3889), vec2(0.8989, 0.4298), vec2(0.893, 0.4516), vec2(0.8668, 0.4899), vec2(0.8753, 0.5193), vec2(0.8813, 0.5362), vec2(0.899, 0.5776), vec2(0.8684, 0.6325), vec2(0.8682, 0.6526), vec2(0.8861, 0.6671), vec2(0.877, 0.7257), vec2(0.897, 0.749), vec2(0.887, 0.7786), vec2(0.8818, 0.826), vec2(0.8728, 0.8428), vec2(0.8751, 0.8762), vec2(0.8938, 0.918), vec2(0.8715, 0.9334), vec2(0.8935, 0.9671), vec2(0.4306, 0.0237), vec2(0.4267, 0.0461), vec2(0.4201, 0.0851), vec2(0.4237, 0.1195), vec2(0.4331, 0.1615), vec2(0.4297, 0.1816), vec2(0.4254, 0.2306), vec2(0.4141, 0.2443), vec2(0.4245, 0.2711), vec2(0.4243, 0.3192), vec2(0.4031, 0.346), vec2(0.4309, 0.3974), vec2(0.4142, 0.4071), vec2(0.4224, 0.4506), vec2(0.4132, 0.4762), vec2(0.4202, 0.5036), vec2(0.4263, 0.5519), vec2(0.4034, 0.5817), vec2(0.4182, 0.6224), vec2(0.4106, 0.6506), vec2(0.4217, 0.6712), vec2(0.4143, 0.7209), vec2(0.4255, 0.7454), vec2(0.4222, 0.7807), vec2(0.4161, 0.8035), vec2(0.4231, 0.8437), vec2(0.4135, 0.8806), vec2(0.4015, 0.9007), vec2(0.4272, 0.9414), vec2(0.4181, 0.9681), vec2(0.2082, 0.019), vec2(0.2148, 0.0387), vec2(0.2007, 0.0888), vec2(0.2233, 0.1019), vec2(0.2282, 0.1632), vec2(0.2297, 0.1907), vec2(0.2251, 0.2137), vec2(0.2129, 0.2397), vec2(0.2233, 0.2964), vec2(0.2076, 0.3112), vec2(0.2291, 0.3357), vec2(0.2009, 0.3977), vec2(0.2323, 0.4055), vec2(0.21, 0.4396), vec2(0.2144, 0.4671), vec2(0.2017, 0.5311), vec2(0.2134, 0.5598), vec2(0.2128, 0.5992), vec2(0.2142, 0.6225), vec2(0.2027, 0.6401), vec2(0.2189, 0.6889), vec2(0.2039, 0.7279), vec2(0.2119, 0.763), vec2(0.2101, 0.7797), vec2(0.2274, 0.823), vec2(0.2007, 0.8343), vec2(0.2041, 0.8676), vec2(0.229, 0.9269), vec2(0.208, 0.9429), vec2(0.2297, 0.9728), vec2(0.2789, 0.0134), vec2(0.2872, 0.0469), vec2(0.2794, 0.0786), vec2(0.2825, 0.1199), vec2(0.28, 0.1427), vec2(0.2745, 0.1979), vec2(0.298, 0.228), vec2(0.2787, 0.2441), vec2(0.2908, 0.2993), vec2(0.2685, 0.325), vec2(0.2683, 0.3585), vec2(0.2905, 0.3685), vec2(0.2701, 0.4141), vec2(0.2943, 0.4425), vec2(0.2902, 0.4705), vec2(0.2879, 0.5185), vec2(0.2705, 0.5392), vec2(0.2686, 0.5732), vec2(0.2677, 0.625), vec2(0.2956, 0.6549), vec2(0.2866, 0.6907), vec2(0.2686, 0.7048), vec2(0.2706, 0.7587), vec2(0.2944, 0.7831), vec2(0.2856, 0.8079), vec2(0.2763, 0.8459), vec2(0.2738, 0.8758), vec2(0.2786, 0.9317), vec2(0.2759, 0.9619), vec2(0.2904, 0.9784), vec2(0.9213, 0.0213), vec2(0.9204, 0.0429), vec2(0.9031, 0.0713), vec2(0.9047, 0.1196), vec2(0.9132, 0.1394), vec2(0.9066, 0.191), vec2(0.927, 0.2221), vec2(0.9024, 0.2421), vec2(0.9308, 0.2867), vec2(0.923, 0.3105), vec2(0.9145, 0.34), vec2(0.9054, 0.3667), vec2(0.9085, 0.4087), vec2(0.9161, 0.4515), vec2(0.9067, 0.4857), vec2(0.905, 0.5273), vec2(0.9008, 0.5449), vec2(0.9128, 0.5669), vec2(0.914, 0.6048), vec2(0.9031, 0.6378), vec2(0.93, 0.6883), vec2(0.9099, 0.7245), vec2(0.9266, 0.7391), vec2(0.9132, 0.7692), vec2(0.9313, 0.8276), vec2(0.908, 0.8412), vec2(0.9328, 0.8743), vec2(0.9203, 0.909), vec2(0.9094, 0.9436), vec2(0.906, 0.9959), vec2(0.6242, 0.0167), vec2(0.6292, 0.0432), vec2(0.6193, 0.0893), vec2(0.6077, 0.1166), vec2(0.6033, 0.1458), vec2(0.6045, 0.1865), vec2(0.6086, 0.2133), vec2(0.6227, 0.2445), vec2(0.6311, 0.279), vec2(0.6313, 0.3282), vec2(0.6124, 0.3446), vec2(0.629, 0.385), vec2(0.6307, 0.4029), vec2(0.6068, 0.4546), vec2(0.6002, 0.4938), vec2(0.6219, 0.5266), vec2(0.6329, 0.5484), vec2(0.6307, 0.5906), vec2(0.6085, 0.6208), vec2(0.6133, 0.6393), vec2(0.6101, 0.6887), vec2(0.6317, 0.7253), vec2(0.6093, 0.7651), vec2(0.631, 0.782), vec2(0.6128, 0.8274), vec2(0.6327, 0.8422), vec2(0.6119, 0.8758), vec2(0.6046, 0.9038), vec2(0.6162, 0.9549), vec2(0.6156, 0.9835), vec2(0.8655, 0.0069), vec2(0.8521, 0.0481), vec2(0.8375, 0.0864), vec2(0.8657, 0.1023), vec2(0.8523, 0.1479), vec2(0.8356, 0.1685), vec2(0.8506, 0.2157), vec2(0.849, 0.2497), vec2(0.8478, 0.2862), vec2(0.8368, 0.3315), vec2(0.8392, 0.3617), vec2(0.8608, 0.3859), vec2(0.8498, 0.4067), vec2(0.8402, 0.4651), vec2(0.8491, 0.4949), vec2(0.8384, 0.5131), vec2(0.858, 0.5451), vec2(0.8341, 0.5773), vec2(0.8565, 0.6148), vec2(0.8486, 0.6404), vec2(0.8644, 0.6854), vec2(0.8415, 0.7049), vec2(0.8438, 0.7354), vec2(0.8438, 0.7919), vec2(0.8562, 0.8033), vec2(0.8639, 0.862), vec2(0.834, 0.8754), vec2(0.8612, 0.9037), vec2(0.8664, 0.9495), vec2(0.854, 0.971), vec2(0.7333, 0.0029), vec2(0.719, 0.0416), vec2(0.7006, 0.0744), vec2(0.7159, 0.1004), vec2(0.7202, 0.1644), vec2(0.702, 0.1865), vec2(0.7304, 0.2051), vec2(0.7271, 0.2387), vec2(0.7102, 0.2811), vec2(0.7045, 0.3091), vec2(0.7207, 0.3512), vec2(0.7222, 0.3741), vec2(0.7128, 0.4098), vec2(0.7113, 0.45), vec2(0.7261, 0.4972), vec2(0.7061, 0.5051), vec2(0.7296, 0.5634), vec2(0.7058, 0.5976), vec2(0.7121, 0.6196), vec2(0.7207, 0.6353), vec2(0.7176, 0.674), vec2(0.7149, 0.7172), vec2(0.721, 0.7386), vec2(0.7192, 0.7832), vec2(0.7184, 0.8226), vec2(0.7328, 0.838), vec2(0.7257, 0.871), vec2(0.7292, 0.917), vec2(0.7113, 0.9486), vec2(0.7096, 0.968), vec2(0.4702, 0.0084), vec2(0.4886, 0.0608), vec2(0.477, 0.0819), vec2(0.4941, 0.1079), vec2(0.4927, 0.1518), vec2(0.4745, 0.1814), vec2(0.4903, 0.2009), vec2(0.4753, 0.2481), vec2(0.4859, 0.2977), vec2(0.4714, 0.3283), vec2(0.4964, 0.3609), vec2(0.4675, 0.395), vec2(0.4872, 0.4105), vec2(0.4694, 0.4599), vec2(0.4999, 0.498), vec2(0.4811, 0.5151), vec2(0.4787, 0.5561), vec2(0.4735, 0.5919), vec2(0.477, 0.6308), vec2(0.493, 0.6632), vec2(0.4827, 0.6771), vec2(0.4837, 0.7117), vec2(0.4887, 0.7518), vec2(0.4709, 0.7763), vec2(0.4987, 0.8097), vec2(0.4827, 0.8367), vec2(0.4718, 0.8768), vec2(0.4934, 0.9202), vec2(0.4872, 0.961), vec2(0.4708, 0.97), vec2(0.448, 0.0195), vec2(0.4476, 0.058), vec2(0.4448, 0.0913), vec2(0.454, 0.1059), vec2(0.4643, 0.1467), vec2(0.4497, 0.1998), vec2(0.4613, 0.2312), vec2(0.4528, 0.2482), vec2(0.4446, 0.2964), vec2(0.463, 0.3047), vec2(0.4452, 0.3652), vec2(0.4484, 0.3955), vec2(0.4367, 0.4145), vec2(0.4568, 0.4438), vec2(0.4396, 0.4925), vec2(0.4456, 0.514), vec2(0.4622, 0.5643), vec2(0.4487, 0.5861), vec2(0.4556, 0.6174), vec2(0.437, 0.6634), vec2(0.4337, 0.6921), vec2(0.4597, 0.705), vec2(0.4547, 0.7347), vec2(0.4635, 0.7976), vec2(0.4421, 0.8007), vec2(0.4404, 0.8368), vec2(0.4583, 0.8915), vec2(0.4362, 0.903), vec2(0.4474, 0.9443), vec2(0.4561, 0.9968), vec2(0.3634, 0.0165), vec2(0.343, 0.0504), vec2(0.3574, 0.0839), vec2(0.3603, 0.1226), vec2(0.3346, 0.1375), vec2(0.3394, 0.1979), vec2(0.3456, 0.2152), vec2(0.3364, 0.2659), vec2(0.3557, 0.2912), vec2(0.3609, 0.3276), vec2(0.335, 0.3576), vec2(0.3531, 0.3937), vec2(0.3636, 0.4328), vec2(0.3548, 0.4531), vec2(0.3446, 0.4839), vec2(0.3558, 0.5056), vec2(0.3398, 0.5575), vec2(0.3484, 0.5755), vec2(0.3393, 0.613), vec2(0.3563, 0.6337), vec2(0.3407, 0.6702), vec2(0.3499, 0.7331), vec2(0.3484, 0.7532), vec2(0.3406, 0.7751), vec2(0.3646, 0.8254), vec2(0.3538, 0.84), vec2(0.3504, 0.8988), vec2(0.3451, 0.9285), vec2(0.359, 0.9381), vec2(0.3661, 0.9877), vec2(0.5276, 0.0179), vec2(0.5251, 0.0424), vec2(0.5318, 0.0838), vec2(0.5309, 0.1138), vec2(0.5084, 0.1453), vec2(0.517, 0.1672), vec2(0.5179, 0.2128), vec2(0.5208, 0.2453), vec2(0.5026, 0.2869), vec2(0.5009, 0.3196), vec2(0.5246, 0.3488), vec2(0.5253, 0.3711), vec2(0.5168, 0.4287), vec2(0.5093, 0.4583), vec2(0.5005, 0.4792), vec2(0.513, 0.5098), vec2(0.5068, 0.5361), vec2(0.5138, 0.5685), vec2(0.5221, 0.6185), vec2(0.5308, 0.6624), vec2(0.5091, 0.677), vec2(0.5019, 0.7019), vec2(0.5074, 0.7611), vec2(0.5162, 0.7941), vec2(0.5281, 0.8286), vec2(0.5197, 0.8583), vec2(0.5235, 0.8752), vec2(0.5314, 0.9117), vec2(0.5315, 0.9579), vec2(0.5045, 0.9804), vec2(0.092, 0.0173), vec2(0.0758, 0.0574), vec2(0.0848, 0.0927), vec2(0.0948, 0.1113), vec2(0.0869, 0.1482), vec2(0.0888, 0.1763), vec2(0.082, 0.218), vec2(0.0873, 0.2521), vec2(0.0747, 0.2907), vec2(0.0972, 0.3306), vec2(0.0948, 0.3575), vec2(0.0923, 0.3771), vec2(0.0873, 0.4029), vec2(0.0829, 0.4409), vec2(0.0816, 0.4858), vec2(0.0867, 0.5114), vec2(0.0961, 0.5633), vec2(0.0831, 0.5865), vec2(0.075, 0.6319), vec2(0.0738, 0.6551), vec2(0.0805, 0.6876), vec2(0.099, 0.7213), vec2(0.0991, 0.748), vec2(0.0741, 0.7921), vec2(0.0909, 0.8066), vec2(0.0923, 0.838), vec2(0.0793, 0.8759), vec2(0.0837, 0.9139), vec2(0.0931, 0.9407), vec2(0.0866, 0.9963), vec2(0.6498, 0.0019), vec2(0.6618, 0.0444), vec2(0.6461, 0.0684), vec2(0.6336, 0.1069), vec2(0.665, 0.1588), vec2(0.6481, 0.1853), vec2(0.6634, 0.2137), vec2(0.6528, 0.243), vec2(0.6452, 0.2893), vec2(0.6485, 0.3114), vec2(0.6629, 0.3583), vec2(0.6466, 0.3921), vec2(0.6621, 0.4096), vec2(0.639, 0.4388), vec2(0.6514, 0.481), vec2(0.6369, 0.5158), vec2(0.6461, 0.5639), vec2(0.6643, 0.5892), vec2(0.6356, 0.608), vec2(0.6335, 0.6344), vec2(0.6441, 0.6882), vec2(0.6589, 0.732), vec2(0.6357, 0.7572), vec2(0.6651, 0.7877), vec2(0.6431, 0.8153), vec2(0.6352, 0.8629), vec2(0.6574, 0.8696), vec2(0.6569, 0.9298), vec2(0.6596, 0.9557), vec2(0.6607, 0.9779), vec2(0.736, 0.021), vec2(0.7356, 0.0549), vec2(0.7446, 0.0713), vec2(0.7565, 0.1267), vec2(0.7545, 0.1542), vec2(0.7426, 0.1781), vec2(0.758, 0.224), vec2(0.7663, 0.2651), vec2(0.742, 0.2793), vec2(0.7506, 0.3233), vec2(0.7417, 0.3611), vec2(0.734, 0.3899), vec2(0.7526, 0.4238), vec2(0.765, 0.4536), vec2(0.7541, 0.4782), vec2(0.7543, 0.5087), vec2(0.7418, 0.5454), vec2(0.7491, 0.5925), vec2(0.7564, 0.6276), vec2(0.7383, 0.6511), vec2(0.7342, 0.6954), vec2(0.7638, 0.7055), vec2(0.7378, 0.7587), vec2(0.7663, 0.7724), vec2(0.7366, 0.816), vec2(0.7376, 0.8582), vec2(0.7428, 0.893), vec2(0.7644, 0.9197), vec2(0.7662, 0.9547), vec2(0.7486, 0.9887), vec2(0.5938, 0.0033), vec2(0.5786, 0.0509), vec2(0.5829, 0.0941), vec2(0.5938, 0.1321), vec2(0.5705, 0.1376), vec2(0.5811, 0.1794), vec2(0.5965, 0.2256), vec2(0.5726, 0.2496), vec2(0.5874, 0.2734), vec2(0.5888, 0.3154), vec2(0.5686, 0.3661), vec2(0.5864, 0.3747), vec2(0.5848, 0.4262), vec2(0.5725, 0.4619), vec2(0.5687, 0.4882), vec2(0.5926, 0.5162), vec2(0.5908, 0.5584), vec2(0.5776, 0.5769), vec2(0.5834, 0.615), vec2(0.5894, 0.6582), vec2(0.5772, 0.6751), vec2(0.5884, 0.7229), vec2(0.5991, 0.7488), vec2(0.5722, 0.7844), vec2(0.5667, 0.814), vec2(0.5691, 0.8515), vec2(0.5757, 0.8832), vec2(0.5715, 0.9168), vec2(0.5925, 0.9427), vec2(0.596, 0.9848), vec2(0.393, 0.0025), vec2(0.3942, 0.0354), vec2(0.3767, 0.0801), vec2(0.3762, 0.1104), vec2(0.3849, 0.1585), vec2(0.3833, 0.1919), vec2(0.3796, 0.2134), vec2(0.3891, 0.2465), vec2(0.3784, 0.2769), vec2(0.3915, 0.3163), vec2(0.3945, 0.362), vec2(0.3718, 0.3943), vec2(0.3806, 0.4142), vec2(0.3851, 0.4361), vec2(0.3895, 0.4809), vec2(0.3743, 0.5065), vec2(0.3862, 0.543), vec2(0.3755, 0.5681), vec2(0.3722, 0.6247), vec2(0.367, 0.6621), vec2(0.3753, 0.6813), vec2(0.3822, 0.7118), vec2(0.3877, 0.7622), vec2(0.3688, 0.7976), vec2(0.3945, 0.8065), vec2(0.3943, 0.8412), vec2(0.3761, 0.8928), vec2(0.3803, 0.9218), vec2(0.3718, 0.9587), vec2(0.3953, 0.9694), vec2(0.0256, 0.01), vec2(0.0159, 0.0386), vec2(0.008, 0.0968), vec2(0.0299, 0.1074), vec2(0.0329, 0.1353), vec2(0.0197, 0.1754), vec2(0.0093, 0.2297), vec2(0.0308, 0.2348), vec2(0.0112, 0.2902), vec2(0.0034, 0.3242), vec2(0.0296, 0.3358), vec2(0.0076, 0.3715), vec2(0.012, 0.4195), vec2(0.0113, 0.4532), vec2(0.0121, 0.4738), vec2(0.0077, 0.5064), vec2(0.0186, 0.5582), vec2(0.0199, 0.5877), vec2(0.0231, 0.6082), vec2(0.0259, 0.6362), vec2(0.0206, 0.6749), vec2(0.0331, 0.7032), vec2(0.0056, 0.7637), vec2(0.0155, 0.7774), vec2(0.0017, 0.819), vec2(0.0111, 0.8606), vec2(0.0081, 0.8805), vec2(0.0037, 0.9155), vec2(0.0195, 0.9418), vec2(0.0199, 0.9964), vec2(0.7847, 0.0191), vec2(0.7882, 0.0666), vec2(0.7824, 0.0921), vec2(0.7736, 0.1271), vec2(0.7784, 0.1442), vec2(0.7703, 0.1686), vec2(0.7736, 0.2305), vec2(0.7965, 0.2356), vec2(0.7821, 0.2723), vec2(0.7679, 0.3176), vec2(0.7779, 0.3629), vec2(0.7792, 0.3885), vec2(0.7726, 0.415), vec2(0.7996, 0.4408), vec2(0.7732, 0.4897), vec2(0.7786, 0.5256), vec2(0.7957, 0.5395), vec2(0.7771, 0.5964), vec2(0.7927, 0.6126), vec2(0.7933, 0.6479), vec2(0.7916, 0.6693), vec2(0.7989, 0.7254), vec2(0.7792, 0.7354), vec2(0.7888, 0.7878), vec2(0.769, 0.8029), vec2(0.7986, 0.8346), vec2(0.7872, 0.8709), vec2(0.7955, 0.9044), vec2(0.7999, 0.9356), vec2(0.7902, 0.9896), vec2(0.0611, 0.0167), vec2(0.0625, 0.0343), vec2(0.0437, 0.0879), vec2(0.0659, 0.1117), vec2(0.0515, 0.1577), vec2(0.0356, 0.1805), vec2(0.0655, 0.2218), vec2(0.0538, 0.2451), vec2(0.0337, 0.2728), vec2(0.0542, 0.3299), vec2(0.0523, 0.3575), vec2(0.0356, 0.3868), vec2(0.0433, 0.411), vec2(0.047, 0.4407), vec2(0.0358, 0.482), vec2(0.0439, 0.5317), vec2(0.0344, 0.5634), vec2(0.0599, 0.5933), vec2(0.0474, 0.6126), vec2(0.0433, 0.6538), vec2(0.055, 0.6776), vec2(0.0367, 0.72), vec2(0.0616, 0.7543), vec2(0.0417, 0.7899), vec2(0.0637, 0.8177), vec2(0.0639, 0.8512), vec2(0.057, 0.894), vec2(0.0401, 0.928), vec2(0.061, 0.9368), vec2(0.0466, 0.9957), vec2(0.5444, 0.0184), vec2(0.5543, 0.0386), vec2(0.5628, 0.0684), vec2(0.56, 0.1018), vec2(0.5577, 0.1609), vec2(0.5608, 0.1856), vec2(0.5503, 0.2085), vec2(0.5401, 0.2635), vec2(0.5653, 0.2697), vec2(0.5518, 0.3176), vec2(0.5551, 0.3497), vec2(0.5577, 0.381), vec2(0.5588, 0.4275), vec2(0.5451, 0.4388), vec2(0.5359, 0.4687), vec2(0.5361, 0.5147), vec2(0.5447, 0.5405), vec2(0.5445, 0.5873), vec2(0.5544, 0.6328), vec2(0.535, 0.6434), vec2(0.5529, 0.6718), vec2(0.5422, 0.7236), vec2(0.566, 0.7503), vec2(0.551, 0.7947), vec2(0.547, 0.8158), vec2(0.5376, 0.8563), vec2(0.5638, 0.8676), vec2(0.5491, 0.9082), vec2(0.5562, 0.9513), vec2(0.5551, 0.9952), vec2(0.3164, 0.0239), vec2(0.3058, 0.0513), vec2(0.3161, 0.0948), vec2(0.3028, 0.1268), vec2(0.3294, 0.1551), vec2(0.3078, 0.1733), vec2(0.3279, 0.2294), vec2(0.3082, 0.261), vec2(0.3096, 0.2907), vec2(0.3039, 0.3206), vec2(0.3037, 0.3562), vec2(0.3054, 0.3955), vec2(0.3279, 0.4223), vec2(0.3326, 0.4552), vec2(0.3095, 0.4746), vec2(0.3151, 0.5116), vec2(0.3332, 0.5338), vec2(0.3188, 0.5882), vec2(0.3085, 0.6262), vec2(0.3237, 0.6426), vec2(0.3249, 0.6821), vec2(0.3267, 0.7024), vec2(0.3073, 0.7416), vec2(0.3261, 0.7881), vec2(0.3141, 0.8079), vec2(0.3019, 0.8545), vec2(0.3009, 0.8918), vec2(0.3309, 0.9181), vec2(0.3185, 0.9382), vec2(0.3149, 0.9734), vec2(0.1299, 0.0251), vec2(0.1031, 0.0438), vec2(0.1222, 0.0781), vec2(0.1132, 0.1041), vec2(0.1003, 0.1382), vec2(0.1014, 0.1936), vec2(0.1207, 0.2074), vec2(0.1073, 0.2434), vec2(0.1263, 0.2789), vec2(0.1253, 0.3101), vec2(0.1142, 0.3401), vec2(0.1208, 0.3789), vec2(0.1014, 0.4306), vec2(0.1328, 0.4394), vec2(0.123, 0.4708), vec2(0.1189, 0.5138), vec2(0.1031, 0.5419), vec2(0.1163, 0.5919), vec2(0.1072, 0.6215), vec2(0.1081, 0.6398), vec2(0.1237, 0.6869), vec2(0.1179, 0.7081), vec2(0.1228, 0.7459), vec2(0.1183, 0.7832), vec2(0.1329, 0.8005), vec2(0.1316, 0.8401), vec2(0.106, 0.8668), vec2(0.1237, 0.9284), vec2(0.1314, 0.9649), vec2(0.1068, 0.9874), vec2(0.9406, 0.0006), vec2(0.949, 0.0618), vec2(0.9546, 0.091), vec2(0.956, 0.1248), vec2(0.9626, 0.1485), vec2(0.9652, 0.1705), vec2(0.9491, 0.2204), vec2(0.9612, 0.2607), vec2(0.9633, 0.2865), vec2(0.9503, 0.3019), vec2(0.946, 0.3487), vec2(0.9344, 0.3765), vec2(0.9513, 0.4276), vec2(0.9336, 0.4455), vec2(0.936, 0.4843), vec2(0.9619, 0.5013), vec2(0.9504, 0.5429), vec2(0.9606, 0.573), vec2(0.9646, 0.6116), vec2(0.9361, 0.6401), vec2(0.9412, 0.6725), vec2(0.9641, 0.7048), vec2(0.9601, 0.7655), vec2(0.952, 0.797), vec2(0.964, 0.8145), vec2(0.9376, 0.8577), vec2(0.9572, 0.8782), vec2(0.9639, 0.9269), vec2(0.9605, 0.958), vec2(0.9401, 0.9832));

int closest(float x, float y, int maxI){
    int m = 0;
    float md = distance(vec2(x,y), p[0]);
    for(int i = 1; i < min(maxI, arrSize); i++){
        float dist = distance(vec2(x,y), p[i]);
        
        if(dist < md){
            md = dist;
            m = i;
        }
    }
    return m;
}

mat2 rotateFromIndex(int i){
     return mat2(cos(float(i)),-sin(float(i)),
                sin(float(i)),cos(float(i)));
}

vec2 getNewAbsoluteCoordinate(vec2 rawPos, int i, vec2 pNext){
    vec2 offset = rawPos - p[i];
    
    return pNext + offset;
    
}
void main(void) {
    float shaderTime = smoothstep(0.0,1.0,(time-end)*RATE);
    shaderTime = (end==0)?shaderTime:(1.0-shaderTime);

    float radius = mix(MIN_SIZE, MAX_SIZE, shaderTime);

    vec2 uv = gl_FragCoord.xy/screenSize.xy;
    
    int maxI = int(radius * arrSize + 1.);
    
    int closeI = closest(uv.x, uv.y, maxI);
    
    mat2 rotation = rotateFromIndex(closeI);
    
    vec2 absolute = rotation * getNewAbsoluteCoordinate(uv.xy , closeI, p[(closeI+1)%arrSize]) * vec2(1.0,screenSize.x/screenSize.y);
    // Time varying pixel color
    vec4 col = texture(imageData, absolute); 

    // Output to screen
    gl_FragColor = col;
}
